[gd_scene load_steps=49 format=3 uid="uid://b3upb7t2hdfk1"]

[ext_resource type="PackedScene" uid="uid://cl57ajdyrwmbx" path="res://objects/walker/walker.tscn" id="1_o5qli"]
[ext_resource type="Script" uid="uid://des41i0ea0vuf" path="res://scenes/main/main.gd" id="1_tefeu"]
[ext_resource type="PackedScene" uid="uid://dd4sq1nmqhuqo" path="res://objects/rockSpawner/rock_spawner.tscn" id="3_sugp2"]
[ext_resource type="Texture2D" uid="uid://c8bonb3d5yw01" path="res://UI/controls/A.png" id="5_raeie"]
[ext_resource type="PackedScene" uid="uid://d4nhjb3el55ox" path="res://objects/pointsDisplay/points_display.tscn" id="6_choun"]
[ext_resource type="Texture2D" uid="uid://b0nndktxhekub" path="res://UI/controls/Left.png" id="6_hxu8e"]
[ext_resource type="PackedScene" uid="uid://cy5ni16xupev7" path="res://objects/metal/metal.tscn" id="6_o6xl0"]
[ext_resource type="Texture2D" uid="uid://ddf0g3xhjme73" path="res://UI/background/doubleResCardboard.png" id="6_raeie"]
[ext_resource type="PackedScene" uid="uid://de3xboh3elk77" path="res://objects/gameManager/game_manager.tscn" id="6_tefeu"]
[ext_resource type="PackedScene" uid="uid://cgxwpim6cajfw" path="res://objects/scissors/scissors.tscn" id="7_85g3d"]
[ext_resource type="PackedScene" uid="uid://blwgd0c2ey4i1" path="res://UI/endGameMenu/end_game_menu.tscn" id="7_hxu8e"]
[ext_resource type="Texture2D" uid="uid://cbqak8bllqxf5" path="res://UI/controls/D.png" id="7_nvumn"]
[ext_resource type="Texture2D" uid="uid://di0m7qhsm0f2" path="res://objects/rope/editedRope.png" id="7_o6xl0"]
[ext_resource type="Texture2D" uid="uid://dbtgn6bkdlumk" path="res://UI/controls/Right.png" id="7_ou6is"]
[ext_resource type="PackedScene" uid="uid://cgsmcsdbsoqtg" path="res://objects/tape/tape.tscn" id="7_tipki"]
[ext_resource type="AudioStream" uid="uid://d0klsbxt4rh5u" path="res://scenes/main/countDown.mp3" id="8_blune"]

[sub_resource type="AtlasTexture" id="AtlasTexture_o6xl0"]
atlas = ExtResource("7_o6xl0")
region = Rect2(50, 0, 680, 2871)

[sub_resource type="AtlasTexture" id="AtlasTexture_tipki"]
atlas = ExtResource("7_o6xl0")
region = Rect2(780, 0, 680, 2871)

[sub_resource type="AtlasTexture" id="AtlasTexture_85g3d"]
atlas = ExtResource("7_o6xl0")
region = Rect2(1510, 0, 680, 2871)

[sub_resource type="AtlasTexture" id="AtlasTexture_choun"]
atlas = ExtResource("7_o6xl0")
region = Rect2(2240, 0, 680, 2871)

[sub_resource type="SpriteFrames" id="SpriteFrames_eb6dy"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_o6xl0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tipki")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_85g3d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_choun")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_p8abn"]
atlas = ExtResource("6_hxu8e")
region = Rect2(0, 0, 469, 324)

[sub_resource type="AtlasTexture" id="AtlasTexture_s17dp"]
atlas = ExtResource("6_hxu8e")
region = Rect2(469, 0, 469, 324)

[sub_resource type="AtlasTexture" id="AtlasTexture_37hlw"]
atlas = ExtResource("6_hxu8e")
region = Rect2(0, 324, 469, 324)

[sub_resource type="AtlasTexture" id="AtlasTexture_6llfj"]
atlas = ExtResource("6_hxu8e")
region = Rect2(469, 324, 469, 324)

[sub_resource type="SpriteFrames" id="SpriteFrames_0bhws"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_p8abn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s17dp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_37hlw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6llfj")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_ou6is"]
atlas = ExtResource("5_raeie")
region = Rect2(0, 0, 523, 531)

[sub_resource type="AtlasTexture" id="AtlasTexture_necax"]
atlas = ExtResource("5_raeie")
region = Rect2(523, 0, 523, 531)

[sub_resource type="AtlasTexture" id="AtlasTexture_r4lks"]
atlas = ExtResource("5_raeie")
region = Rect2(1046, 0, 523, 531)

[sub_resource type="AtlasTexture" id="AtlasTexture_pg34l"]
atlas = ExtResource("5_raeie")
region = Rect2(1569, 0, 523, 531)

[sub_resource type="SpriteFrames" id="SpriteFrames_m4h2d"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ou6is")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_necax")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r4lks")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pg34l")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_m4h2d"]
atlas = ExtResource("7_ou6is")
region = Rect2(0, 0, 471, 324)

[sub_resource type="AtlasTexture" id="AtlasTexture_0bhws"]
atlas = ExtResource("7_ou6is")
region = Rect2(471, 0, 471, 324)

[sub_resource type="AtlasTexture" id="AtlasTexture_ii537"]
atlas = ExtResource("7_ou6is")
region = Rect2(0, 324, 471, 324)

[sub_resource type="AtlasTexture" id="AtlasTexture_rofvo"]
atlas = ExtResource("7_ou6is")
region = Rect2(471, 324, 471, 324)

[sub_resource type="SpriteFrames" id="SpriteFrames_tbnf8"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_m4h2d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0bhws")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ii537")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rofvo")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_62atk"]
atlas = ExtResource("7_nvumn")
region = Rect2(0, 0, 523, 629)

[sub_resource type="AtlasTexture" id="AtlasTexture_i7in8"]
atlas = ExtResource("7_nvumn")
region = Rect2(523, 0, 523, 629)

[sub_resource type="AtlasTexture" id="AtlasTexture_gkmcc"]
atlas = ExtResource("7_nvumn")
region = Rect2(1046, 0, 523, 629)

[sub_resource type="AtlasTexture" id="AtlasTexture_7nlll"]
atlas = ExtResource("7_nvumn")
region = Rect2(1569, 0, 523, 629)

[sub_resource type="SpriteFrames" id="SpriteFrames_ii537"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_62atk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i7in8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gkmcc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7nlll")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="Animation" id="Animation_tipki"]
length = 0.001

[sub_resource type="Animation" id="Animation_hxu8e"]
resource_name = "endGame"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Walker:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(552, 683), Vector2(552, 1500)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Rope:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(540, 388), Vector2(540, -400)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Rope:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.5708]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("pointsDisplay:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(818, 346), Vector2(2000, 346)]
}

[sub_resource type="Animation" id="Animation_o6xl0"]
resource_name = "intro"
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Rope:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(600, -114), Vector2(540, 388)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Rope:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [-1.57079, 0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Rope:speed_scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 4),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [0.0, 1.0]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("AnimatedCountIn:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 1, 4, 5),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(-390, 390), Vector2(553, 390), Vector2(553, 390), Vector2(553, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("AnimatedCountIn:value")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 2, 3, 4),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [3, 2, 1, 0]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("pointsDisplay:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(301, 718), Vector2(818, 346)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("pointsDisplay:paused")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0, 4),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("CountInBeeps:playing")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(1),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("RightControls:position")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0, 1, 4, 5),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(1110, 440), Vector2(710, 440), Vector2(710, 440), Vector2(1110, 440)]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("LeftControls:position")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0, 1, 4, 5),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(0, 440), Vector2(400, 440), Vector2(400, 440), Vector2(0, 440)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_85g3d"]
_data = {
&"RESET": SubResource("Animation_tipki"),
&"endGame": SubResource("Animation_hxu8e"),
&"intro": SubResource("Animation_o6xl0")
}

[sub_resource type="Animation" id="Animation_nvumn"]
resource_name = "playerIntro"
length = 4.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Walker:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(560, 926), Vector2(552, 683)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../Walker:isActive")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 4),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="Animation" id="Animation_ou6is"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_necax"]
_data = {
&"RESET": SubResource("Animation_ou6is"),
&"playerIntro": SubResource("Animation_nvumn")
}

[node name="Main" type="Node2D"]
script = ExtResource("1_tefeu")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(550, 486)
zoom = Vector2(2, 2)

[node name="Cardboard2" type="TextureRect" parent="Camera2D"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -288.0
offset_top = -162.0
offset_right = 864.0
offset_bottom = 486.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.5, 0.5)
texture = ExtResource("6_raeie")
expand_mode = 2

[node name="EndGameMenu" parent="Camera2D" instance=ExtResource("7_hxu8e")]
z_index = 1
scale = Vector2(0.5, 0.5)

[node name="Rope" type="AnimatedSprite2D" parent="."]
position = Vector2(600, -114)
rotation = -1.57079
scale = Vector2(0.2, 0.2)
sprite_frames = SubResource("SpriteFrames_eb6dy")
autoplay = "default"
frame_progress = 0.473907
speed_scale = 0.0

[node name="Walker" parent="." instance=ExtResource("1_o5qli")]
position = Vector2(560, 926)

[node name="LeftControls" type="Node2D" parent="."]
position = Vector2(0, 440)

[node name="Left" type="AnimatedSprite2D" parent="LeftControls"]
scale = Vector2(0.3, 0.3)
sprite_frames = SubResource("SpriteFrames_0bhws")
autoplay = "default"

[node name="A" type="AnimatedSprite2D" parent="LeftControls"]
position = Vector2(0, 80)
scale = Vector2(0.2, 0.2)
sprite_frames = SubResource("SpriteFrames_m4h2d")
autoplay = "default"
frame = 1
frame_progress = 0.956646

[node name="RightControls" type="Node2D" parent="."]
position = Vector2(1110, 440)

[node name="Right" type="AnimatedSprite2D" parent="RightControls"]
scale = Vector2(0.3, 0.3)
sprite_frames = SubResource("SpriteFrames_tbnf8")
autoplay = "default"

[node name="D" type="AnimatedSprite2D" parent="RightControls"]
position = Vector2(0, 80)
scale = Vector2(0.2, 0.2)
sprite_frames = SubResource("SpriteFrames_ii537")
autoplay = "default"
frame = 2
frame_progress = 0.916736

[node name="BottomLeftSpawner" parent="." instance=ExtResource("3_sugp2")]
position = Vector2(2, 644)
globalWarningLocation = Vector2(310, 580)
spawnSpeed = Vector2(1000, -400)

[node name="TopLeftSpawner" parent="." instance=ExtResource("3_sugp2")]
position = Vector2(2, 410)
globalWarningLocation = Vector2(310, 410)
spawnSpeed = Vector2(1000, 0)

[node name="TopRightSpawner" parent="." instance=ExtResource("3_sugp2")]
position = Vector2(953, 410)
globalWarningLocation = Vector2(780, 410)
spawnSpeed = Vector2(-1000, 0)

[node name="BottomRightSpawner" parent="." instance=ExtResource("3_sugp2")]
position = Vector2(952, 638)
globalWarningLocation = Vector2(780, 580)
spawnSpeed = Vector2(-1000, -400)

[node name="AnimatedCountIn" parent="." instance=ExtResource("6_choun")]
position = Vector2(-390, 390)
scale = Vector2(0.3, 0.3)
value = 3
paused = false

[node name="pointsDisplay" parent="." instance=ExtResource("6_choun")]
position = Vector2(301, 718)
scale = Vector2(0.1, 0.1)
value = 0

[node name="CountInBeeps" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_blune")
volume_db = -12.0
bus = &"SFX"

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
reset_on_save = false
libraries = {
&"": SubResource("AnimationLibrary_85g3d")
}

[node name="MovePlayerAnimation" type="AnimationPlayer" parent="."]
root_node = NodePath("../AnimationPlayer")
libraries = {
&"": SubResource("AnimationLibrary_necax")
}

[node name="GameManager" parent="." node_paths=PackedStringArray("topLeft", "topRight", "bottomLeft", "bottomRight", "pointsDisplay", "endGameMenu", "animationPlayer", "walker") instance=ExtResource("6_tefeu")]
projectiles = Array[PackedScene]([ExtResource("6_o6xl0"), ExtResource("7_tipki"), ExtResource("7_85g3d")])
metal = ExtResource("6_o6xl0")
tape = ExtResource("7_tipki")
scissors = ExtResource("7_85g3d")
topLeft = NodePath("../TopLeftSpawner")
topRight = NodePath("../TopRightSpawner")
bottomLeft = NodePath("../BottomLeftSpawner")
bottomRight = NodePath("../BottomRightSpawner")
pointsDisplay = NodePath("../pointsDisplay")
endGameMenu = NodePath("../Camera2D/EndGameMenu")
animationPlayer = NodePath("../AnimationPlayer")
walker = NodePath("../Walker")

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_player_animation_finished"]
